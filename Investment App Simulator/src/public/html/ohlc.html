
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Option OHLC Chart</title>
      <link rel="stylesheet" href="../css/investment.css" />

  <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial@0.1.0"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
        <script src="../js/options.js" defer></script>
                <script src="../js/ohlc.js" defer></script>

</head>
<body class="ohlc-body"> 


    <button id="back-button" class="button">
      ‚Üê Back to Investments
    </button>


  <div class="container">
    <div class="chart-container">


      <h2 id="symbol-heading">Option OHLC</h2>

      <!-- Chart form -->
      <form id="chart-form-ohlc" class="chart-form">
        <!-- <label for="range">Select Range:</label>
        <select name="range" id="range" disabled>
          <option value="1d" selected>Last 1 Day</option>
        </select>
-->
        <div class="select-wrapper">
          <select name="chartType" id="chartType">
            <option value="line" selected>Line (Close Price)</option>
            <option value="candlestick">Candlestick</option>
          </select>
        </div> 
        <button type="submit">Generate Chart</button> 

      <button type="button" onclick="window.location.reload()">Refresh</button>
      </form>

      <div class="chart-wrapper">
        <canvas id="ohlc-chart"></canvas>
      </div>
    </div>

    <div class="trading-card">
      <form id="trading-form">
        <h2>Trade Option</h2>

        <!-- Buy/Sell radio -->
        <div class="form-group-radio">
          <label class="pretty-radio">
            <input type="radio" name="side" value="buy" checked />
            <span class="radio-label">Buy</span>
          </label>
          <label class="pretty-radio">
            <input type="radio" name="side" value="sell" />
            <span class="radio-label">Sell</span>
          </label>
        </div>

        <!-- Order type -->
        <div class="form-group">
          <label for="order-type">Order Type</label>
          <select id="order-type" name="order-type">
            <option value="market" selected>Market Order</option>
            <option value="limit">Limit Order</option>
          </select>
        </div>

        <!-- Market order fields -->
        <div class="market-fields">
          <div class="form-group">
            <label for="market-price">Price</label>
            <input type="number" id="market-price" name="market-price" placeholder="Auto" readonly />
          </div>

          <div class="form-group">
            <label for="market-quantity">Quantity</label>
            <input type="number" id="market-quantity" name="market-quantity" placeholder="Enter quantity" />
          </div>

          <div class="form-group">
            <label for="market-amount">Amount</label>
            <input type="text" id="market-amount" name="market-amount" placeholder="--" readonly />
            <p>1 Contract = 100 Share(s)</p>
          </div>
        </div>

        <!-- Limit order fields -->
        <div class="limit-fields hidden">
          <div class="form-group">
            <label for="limit-price">Price</label>
            <input type="number" id="limit-price" name="limit-price" placeholder="Enter price" step="0.01" />
          </div>

          <div class="form-group">
            <label for="limit-quantity">Quantity</label>
            <input type="number" id="limit-quantity" name="limit-quantity" placeholder="Enter quantity" />
          </div>

          <div class="form-group">
            <label for="limit-amount">Amount</label>
            <input type="text" id="limit-amount" name="limit-amount" placeholder="--" readonly />
           <p>1 Contract = 100 Share(s)</p>

          </div>
        </div>

        <div id="buy-error" class="error-message"></div>
        <button type="submit" class="submit-button" id="submit-order">Place Order</button>
      </form>
    </div>
  </div>

  <script>
    // Toggle market/limit fields
    const orderTypeSelect = document.getElementById('order-type');
    const marketFields = document.querySelector('.market-fields');
    const limitFields = document.querySelector('.limit-fields');

    orderTypeSelect.addEventListener('change', () => {
      if (orderTypeSelect.value === 'market') {
        marketFields.classList.remove('hidden');
        limitFields.classList.add('hidden');
      } else {
        marketFields.classList.add('hidden');
        limitFields.classList.remove('hidden');
      }
    });
  </script>
</body>

</html>


